{"version":3,"file":"table-of-content/view.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAEA,CAAC,IAAK;EACN,YAAY;;EAEZ,MAAMC,mBAAmB,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,gCAAgC,CAAC;EACvF,IAAGF,mBAAmB,CAACG,MAAM,IAAI,CAAC,EAAE;EAEpC,CAAC,GAAGH,mBAAmB,CAAC,CAACI,OAAO,CAAC,CAACC,IAAI,EAAEC,OAAO,KAAK;IAClD,IAAIC,IAAI,GAAGF,IAAI;IACf,IAAIG,cAAc,GAAGD,IAAI,CAACE,OAAO,CAACD,cAAc;IAChD,IAAIE,WAAW,GAAGT,QAAQ,CAACU,aAAa,CAACH,cAAc,CAAC;IACxD;IACA,IAAII,QAAQ,GAAGF,WAAW,CAACR,gBAAgB,CAAC,oBAAoB,CAAC;IAEjE,IAAIW,2BAA2B,GAAG,EAAE;IACpCD,QAAQ,CAACR,OAAO,CAAC,CAACU,CAAC,EAAEC,SAAS,KAAK;MACjC,IAAGD,CAAC,CAACE,SAAS,CAACC,QAAQ,CAAC,YAAY,CAAC,EAAE;MACvC,IAAIC,SAAS,GAAGJ,CAAC,CAACK,EAAE;MACpB,IAAIC,UAAU,GAAIF,SAAS,GAAGA,SAAS,GAAG,WAAY,CAACG,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAEC,QAAQ,CAAC,EAAE,CAAC,CAACC,SAAS,CAAC,CAAC,CAAC,EAAI;;MAEvG;MACA,IAAIC,UAAU,GAAGX,CAAC,CAACY,OAAO,CAACC,WAAW,CAAC,CAAC;MAExCb,CAAC,CAACK,EAAE,GAAGC,UAAU;MACjBP,2BAA2B,IAAI,sBAAuBY,UAAU,YAAcL,UAAU,KAAON,CAAC,CAACc,WAAW,WAAY;IAC1H,CAAC,CAAC;IAEF,IAAG,CAACf,2BAA2B,EAAE;MAC/BN,IAAI,CAACsB,SAAS,GAAG,EAAE;MACnB;IACF;IAAC;IAEDtB,IAAI,CAACsB,SAAS,GAAG;AACrB;AACA,YAAahB,2BAA2B;AACxC,WAAW;EACT,CAAC,CAAC;AAEJ,CAAC,EAAEiB,MAAM,CAAC;AACV;;AAEA,a","sources":["webpack://a1a-wp-helpers/./src/table-of-content/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end \n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any \n * JavaScript running in the front-end, then you should delete this file and remove \n * the `viewScript` property from `block.json`. \n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n \n/* eslint-disable no-console */\n// console.log(\"Hello World! (from create-block-table-of-content block)\");\n((w) => {\n  'use strict';\n\n  const tableOfContentElems = document.querySelectorAll('.wp-block-a1a-table-of-content');\n  if(tableOfContentElems.length == 0) return;\n  \n  [...tableOfContentElems].forEach((elem, __index) => {\n    let self = elem;\n    let containerClass = self.dataset.containerClass;\n    let contentElem = document.querySelector(containerClass);\n    // let headings = contentElem.querySelectorAll('h1,h2,h3,h4,h5,h6,.heading-tof');\n    let headings = contentElem.querySelectorAll('h2,h3,.heading-tof');\n    \n    let tableOfContentHeadings_Html = ``;\n    headings.forEach((h, __h_index) => {\n      if(h.classList.contains('not-in-toc')) return;\n      let headingID = h.id;\n      let headingKey = (headingID ? headingID : `heading_${ (Math.random() + 1).toString(36).substring(7) }`);\n\n      // Get the tag name (h2, h3, etc) of the heading element\n      let headingTag = h.tagName.toLowerCase();\n\n      h.id = headingKey;\n      tableOfContentHeadings_Html += `<li><a class=\"__is-${ headingTag }\" href=\"#${ headingKey }\">${ h.textContent }</a></li>`\n    })\n\n    if(!tableOfContentHeadings_Html) {\n      self.innerHTML = ''\n      return;\n    };\n    \n    self.innerHTML = `<div class=\"__block-inner\">\n      <h4 class=\"a1a-block-heading not-in-toc\">Table of Contents</h4>\n      <ul>${ tableOfContentHeadings_Html }</ul>\n    </div>`;\n  })\n\n})(window)\n/* eslint-enable no-console */\n\n// alert('1')"],"names":["w","tableOfContentElems","document","querySelectorAll","length","forEach","elem","__index","self","containerClass","dataset","contentElem","querySelector","headings","tableOfContentHeadings_Html","h","__h_index","classList","contains","headingID","id","headingKey","Math","random","toString","substring","headingTag","tagName","toLowerCase","textContent","innerHTML","window"],"sourceRoot":""}